{% load comments %}
{% load comments_xtd %}
{% load static %}
{% load i18n %}


<div id="comments"></div>

{% if object.allow_comments %}
<div class="card card-block mb-5">
  <div class="card-body">
    <h4 class="card-title text-center pb-3">{% trans 'Post your comment' %}</h4>
      {% render_comment_form for object %}
  </div>
</div>
{% endif %}

{% if comment_count %}
<ul class="media-list">
  {% render_xtdcomment_tree for object %}
</ul>
{% endif %}


{#<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"#}
{#        integrity="sha512-QVs8Lo43F9lSuBykadDb0oSXDL/BbZ588urWVCRwSIoewQv/Ewg1f84mK3U790bZ0FfhFa1YSQUmIhG+pIRKeg=="#}
{#        crossorigin="anonymous" referrerpolicy="no-referrer"></script>#}
{#<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js"#}
{#        integrity="sha512-6a1107rTlA4gYpgHAqbwLAtxmWipBdJFcq8y5S/aTge3Bp+VAklABm2LO+Kg51vOWR9JMZq1Ovjl5tpluNpTeQ=="#}
{#        crossorigin="anonymous" referrerpolicy="no-referrer"></script>#}
{#<script src="https://cdnjs.cloudflare.com/ajax/libs/remarkable/2.0.1/remarkable.min.js"#}
{#        integrity="sha512-skYYbQHAuOTpeJTthhUH3flZohep8blA+qjZOY0VqmfXMDiYcWxu29F5UbxU4LxaIpGkRBk+3Qf8qaXfd9jngg=="#}
{#        crossorigin="anonymous" referrerpolicy="no-referrer"></script>#}
{##}
{#<script>#}
{#    window.comments_props = {% get_commentbox_props for object %};#}
{#    window.comments_props_override = {#}
{#        allow_comments: {%if object.allow_comments%}true{%else%}false{%endif%},#}
{#        allow_feedback: true,#}
{#        show_feedback: true,#}
{#        allow_flagging: false,#}
{#        polling_interval: 5000  // In milliseconds.#}
{#    };#}
{#</script>#}
{##}
{#<script type="text/javascript" src="{% url 'javascript-catalog' %}"></script>#}
{#<script src="{% static 'django_comments_xtd/js/django-comments-xtd-2.10.0.js' %}"></script>#}
{##}
{#<script>#}
{#    window.addEventListener('DOMContentLoaded', (_) => {#}
{#        const tooltipQs = '[data-bs-toggle="tooltip"]';#}
{#        const tooltipList = document.querySelectorAll(tooltipQs);#}
{#        [...tooltipList].map(el => new bootstrap.Tooltip(el, {html: true}));#}
{#    });#}
{##}
{#</script>#}