{% load web_tags %}
{% load static %}
{% load i18n %}

{#<style>#}
{#    @media (max-width: 768px) {#}
{#        .prof-content-links-cont {#}
{#            display: flex;#}
{#            flex-wrap: nowrap;#}
{#            overflow-x: auto;#}
{#        }#}
{##}
    {#.profile-menu-item {#}
    {#    align-items: flex-start !important;#}
    {#        height: 40px;#}
{#        .profile-menu-item {#}
{#            align-items: flex-start !important;#}
{#        }#}
{##}
{#    }#}
{#</style>#}

{%  block extra_static %}
    <link rel="stylesheet" href="{% static 'web/css/profile_content_itemsCSS.css' %}">
{% endblock %}

<!-- Desktop version -->
<ul class="nav nav-tabs d-none d-md-flex" style="margin-bottom: 15px">
    <li class="nav-item">
        <a href="?tab=articles"
           class="profile-menu-item nav-link {% if request.GET.tab == 'articles' or not request.GET.tab %}active{% endif %}">
            <span>{% trans 'ArticlesTabLabel' %}&nbsp;</span>
            <span class="expert-profile-title-content-number">{{ experts_articles_count }}</span>
        </a>
    </li>
    <li class="nav-item">
        <a href="?tab=researches"
           class="profile-menu-item nav-link {% if request.GET.tab == 'researches' %}active{% endif %}">
            <span>{% trans 'ResearchesTabLabel' %}&nbsp;</span>
            <span class="expert-profile-title-content-number">0</span>
        </a>
    </li>
    <li class="nav-item">
        <a href="?tab=questions"
           class="profile-menu-item nav-link {% if request.GET.tab == 'questions' %}active{% endif %}">
            <span>{% trans 'QuestionsTabLabel' %}&nbsp;</span>
            <span class="expert-profile-title-content-number">0</span>
        </a>
    </li>
    {% if request.path == '/profile' %}
        <li class="nav-item">
            <a href="?tab=consultations"
               class="profile-menu-item nav-link {% if request.GET.tab == 'consultations' %}active{% endif %}">
                <span>{% trans 'ConsultationsTabLabel' %}&nbsp;</span>
                <span class="expert-profile-title-content-number">{{ users_appointment_cnt }}</span>
            </a>
        </li>
    {% endif %}
    <li class="nav-item">
        <a href="?tab=reviews"
           class="profile-menu-item nav-link {% if request.GET.tab == 'reviews' %}active{% endif %}">
            <span>{% trans 'ReviewsTabLabel' %}&nbsp;</span>
            <span class="expert-profile-title-content-number">0</span>
        </a>
    </li>
    <li class="nav-item">
        <a href="?tab=projects"
           class="profile-menu-item nav-link {% if request.GET.tab == 'projects' %}active{% endif %}">
            <span>{% trans 'ProjectsTabLabel' %}&nbsp;</span>
            <span class="expert-profile-title-content-number">{{ projects_count }}</span>
        </a>
    </li>


    {% if request.path == '/profile' %}
    <li class="nav-item">
        <a href="?tab=ratings" class="profile-menu-item nav-link {% if request.GET.tab == 'ratings' %}active{% endif %}">
            <span>{% trans 'RatingsTabLabel' %}&nbsp;</span>
            <span class="expert-profile-title-content-number">0</span>
        </a>
    </li>
    {% endif %}

</ul>


<!-- Mobile version -->

<!-- background color #0d79ae -->
<div style="overflow-x: auto; margin-bottom: 10px;">
<ul class="nav nav-pills d-md-none" style="margin-bottom: 15px; display: flex; flex-direction: row; flex-flow: nowrap; gap : 5px">
    <li class="nav-item"  >
        <a href="?tab=articles" class="profile-menu-item nav-link {% if request.GET.tab == 'articles' or not request.GET.tab %}active{% endif %}" style="flex-direction: column;padding: 5px;min-width: 75px;height: 50px;">
            <div>
                <i class="bi bi-newspaper" style="font-size:22px"></i>
            </div>
            <div style="display:flex;align-items: center;">
                <span style="font-size:8px">{% trans 'ArticlesTabLabel' %}&nbsp;</span>
                <span class="expert-profile-title-content-number" style="font-size:10px">{{ experts_articles_count }}</span>
            </div>
        </a>
    </li>

    <li class="nav-item" >
        <a href="?tab=researches" class="profile-menu-item nav-link {% if request.GET.tab == 'researches' or not request.GET.tab %}active{% endif %}" style="flex-direction: column;padding: 5px;min-width: 75px;height: 50px;">
            <div>
                <i class="bi bi-eyeglasses" style="font-size:22px"></i>
            </div>
            <div style="display:flex;align-items: center;">
                <span style="font-size:8px">Исследования&nbsp;</span>
                <span class="expert-profile-title-content-number" style="font-size:10px">{{ experts_articles_count }}</span>
            </div>
        </a>
    </li>

    <li class="nav-item" >
        <a href="?tab=questions" class="profile-menu-item nav-link {% if request.GET.tab == 'questions' or not request.GET.tab %}active{% endif %}" style="flex-direction: column;padding: 5px;min-width: 75px;height: 50px;">
            <div>
                <i class="bi bi-patch-question" style="font-size:22px"></i>
            </div>
            <div style="display:flex;align-items: center;">
                <span style="font-size:8px">Вопросы&nbsp;</span>
                <span class="expert-profile-title-content-number" style="font-size:10px">{{ experts_articles_count }}</span>
            </div>
        </a>
    </li>

    {% if request.path == '/profile' %}
    <li class="nav-item" >
        <a href="?tab=consultations" class="profile-menu-item nav-link {% if request.GET.tab == 'consultations' or not request.GET.tab %}active{% endif %}" style="flex-direction: column;padding: 5px;min-width: 75px;height: 50px;">
            <div>
                <i class="bi bi-people-fill" style="font-size:22px"></i>
            </div>
            <div style="display:flex;align-items: center;">
                <span style="font-size:8px">Консультации&nbsp;</span>
                <span class="expert-profile-title-content-number" style="font-size:10px">{{ experts_articles_count }}</span>
            </div>
        </a>
    </li>
    {% endif %}

    <li class="nav-item" >
        <a href="?tab=reviews" class="profile-menu-item nav-link {% if request.GET.tab == 'reviews' or not request.GET.tab %}active{% endif %}" style="flex-direction: column;padding: 5px;min-width: 75px;height: 50px;">
            <div>
                <i class="bi bi-pencil-square" style="font-size:22px"></i>
            </div>
            <div style="display:flex;align-items: center;">
                <span style="font-size:8px">Отзывы&nbsp;</span>
                <span class="expert-profile-title-content-number" style="font-size:10px">{{ experts_articles_count }}</span>
            </div>
        </a>
    </li>

    <li class="nav-item" >
        <a href="?tab=projects" class="profile-menu-item nav-link {% if request.GET.tab == 'projects' or not request.GET.tab %}active{% endif %}" style="flex-direction: column;padding: 5px;min-width: 75px;height: 50px;">
            <div>
                <i class="bi bi-file-earmark-ppt" style="font-size:22px"></i>
            </div>
            <div style="display:flex;align-items: center;">
                <span style="font-size:8px">Проекты&nbsp;</span>
                <span class="expert-profile-title-content-number" style="font-size:10px">{{ projects_count }}</span>
            </div>
        </a>
    </li>

    {% if request.path == '/profile' %}
    <li class="nav-item" >
        <a href="?tab=ratings" class="profile-menu-item nav-link {% if request.GET.tab == 'ratings' or not request.GET.tab %}active{% endif %}" style="flex-direction: column;padding: 5px;min-width: 75px;height: 50px;">
            <div>
                <i class="bi bi-file-earmark-ppt" style="font-size:22px"></i>
            </div>
            <div style="display:flex;align-items: center;">
                <span style="font-size:8px">Проекты&nbsp;</span>
                <span class="expert-profile-title-content-number" style="font-size:10px"></span>
            </div>
        </a>
    </li>
    {% endif %}



</ul>
</div>

<div id="content-container">
    {% if request.GET.tab == "articles" or not request.GET.tab %}
        {% include 'posts/article/article-profile-list.html' with user=user %}
    {% elif request.GET.tab == "researches" %}
        {# researches_template #}
    {% elif request.GET.tab == "questions" %}
        {# questions_template #}
    {% elif request.GET.tab == "consultations" %}
        <div id="consultations" class="expert-content">
            {% include 'components/appointment/calendar.html' %}
        </div>
    {% elif request.GET.tab == "reviews" %}
        {# reviews_template #}
    {% elif request.GET.tab == "projects" %}
        {% include 'project_list.html' with user=user %}
    {% elif request.GET.tab == "ratings" %}
        {% include 'profile/expert/rating_list.html' %}
    {% endif %}
</div>

