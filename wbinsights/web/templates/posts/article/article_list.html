<!-- article_list.html -->
{% extends 'basePostList.html' %}

{% block title %}
Статьи
{% endblock %}
{% load static %}

{% block posts_content %}

<link rel="stylesheet" href="{% static 'web/css/article_list.css' %}">

<body>

	<div class="articles-list-main-cont" >

		<div class="article-list-search-and-cat-cont">

			<input type="text" class="article-list-search-cont" placeholder="Поиск">

			{% include "components/post_category_filter.html" %}

		</div>

		{% for article in object_list %}

		<div class="article-list-content">
			<div class="article-list-publish-date">
				<i class="bi bi-calendar2-week" style="color:grey; scale:1.3"></i>
				&nbsp;  {{article.time_update|date:"d.m.Y H:i"}}

			</div>

			<div class="article-list-title">{{article.title}}</div>

			<div class="article-list-main-content">
				{% autoescape off %}

				{{article.content|truncatewords:50}}

				{% endautoescape %}
				<span class="link-read-post">
                    <a href="{{ article.get_absolute_url }}" class="link-read-post">Читать пост &nbsp;
					    <i class="bi bi-chevron-down" style="color:black; scale:1.3"></i>
					</a>
				</span>
			
				<div class="article-list-cat-cont ">
					<span class="article-list-catagory-container">{{article.cat.name}}</span>
				</div>

				<div class="article-list-last">

					<div class="article-list-author-cont">
                        <style>
                            .author-pic {
                                width: 30px;
                                height: 30px;
                                border-radius: 50%;
                                overflow: hidden;
                                border: 1px solid #ccc;
                            }

                            .author-pic img {
                                width: 100%;
                                height: 100%;
                                object-fit: cover;
                            }
                        </style>
                        <div class="author-pic">
                            <img src="{{ article.author.profile.avatar.url }}" />
						</div>

                        <a href="{% url 'expert_profile' article.author.pk %}" class="article-list-author-name">{{ article.author.last_name}} {{ article.author.first_name}}</a>

					</div>

					<div class="article-list-comments-andshare-cont">

						<div class="article-list-comments">
							<i class="bi bi-chat-left-text" style="color:grey;"></i>
						    104
                        </div>

                        <div class="article-list-share">
							<i class="bi bi-box-arrow-up-right" style="color:grey; "></i>
						</div>

					</div>

				</div>

				<hr class="solid">
				
			</div>

		</div>
		{% endfor %}

	</div>

</body>

{% endblock %}