<!-- article_list.html -->
{% extends 'base12.html' %}
{% load static %}


{% block title %}
Создание статьи
{% endblock %}


{% block center_col %}

  <link rel="stylesheet" href="//unpkg.com/grapesjs/dist/css/grapes.min.css">
  <script src="//unpkg.com/grapesjs"></script>
  <link rel="stylesheet" href="{% static 'web/css/article_add.css' %}">


  <div style="display:flex">
      
    <div class="col-md-8" style="padding:20px ;" >
          
        <div style="display:flex ; flex-direction: column; margin-bottom: 20px;background-color:white; padding: 20px;border-radius: 15px">

          <span class="article-back-btn"> 
            <i class="bi bi-chevron-left" style="scale:1"></i>  &nbsp;Назад
          </span>
          
          <div id="gjs"></div>

      </div>  
    
    </div>
        
    <div class="col-md-4" style=" padding:20px ;">

      <div style="display:flex ; flex-direction: column; margin-bottom: 20px;background-color:white ; padding: 20px; border-radius: 15px">

          <div class="article-settings">
          
            <span>Настройки</span>
            <span> <i class="bi bi-trash" style="scale:1"></i>  Очистить всё</span>

          </div>

          <span class="article-add-desc">
            Перетаскивайте или нажимайте на элементы, чтобы добавить их в редактор
          </span>

          <div id="blocks"></div>

          <hr class="solid" />

          <div class="choose-catagory">

            <span>Категория:</span>

              <div class="dropdown">

                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" style="   background-color: white;color: grey;width: 100%;display: flex;align-items: center;justify-content: space-between;">
                    Выберите категорию
                </button>

                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">cat 1</a></li>
                  <li><a class="dropdown-item" href="#">cat 2</a></li>
                  <li><a class="dropdown-item" href="#">cat 3</a></li>
                </ul>

              </div>

          </div>

          <button type="button" class="btn btn-success" style="margin-top:20px">Опубликоват</button>

          <!-- <span class="article-word-limit"> Кол-во символов: 0 из 10000 </span> -->

        </div>

      </div>

    </div>  
        
    <script>

        const editor = grapesjs.init({
            // Indicate where to init the editor. You can also pass an HTMLElement
            container: '#gjs',
            // Get the content for the canvas directly from the element
            // As an alternative we could use: `components: '<h1>Hello World Component!</h1>'`,
            fromElement: true,
            // Size of the editor
            height: '500px',
            width: 'auto',
            // Disable the storage manager for the moment
            storageManager: false,
            // Avoid any default panel
            panels: { defaults: [] },
            blockManager: {
                appendTo: '#blocks',
                blocks: [
                  {
                    id: 'section', // id is mandatory
                    label: ' <i class="bi bi-fonts" style="scale: 3 ;  margin-bottom: 10px !important;";></i> <b>Заголовок</b>', // You can use HTML/SVG inside labels
                    attributes: { class:'gjs-block-section' },
                    content: `<section>
                      <h1>This is a simple title</h1>
                      <div>This is just a Lorem text: Lorem ipsum dolor sit amet</div>
                    </section>`,
                  }, {
                    id: 'text',
                    label: '<i class="bi bi-card-text" style="scale: 3 ; margin-bottom: 10px !important;"></i> <b>Текст</b>',
                    content: '<div data-gjs-type="text">Insert your text here</div>',
                  }, {
                    id: 'image',
                    label: '<i class="bi bi-card-image" style="scale: 3 ; margin-bottom: 10px !important;"></i> <b>Изображение</b>',
                    // Select the component once it's dropped
                    select: true,
                    // You can pass components as a JSON instead of a simple HTML string,
                    // in this case we also use a defined component type `image`
                    content: { type: 'image' },
                    // This triggers `active` event on dropped components and the `image`
                    // reacts by opening the AssetManager
                    activate: true,
                  }
                ]
            },

          });

        

    </script>



{%endblock%}




